{"version":3,"sources":["services/persons.js","Add.js","Filter.js","Notification.js","Person.js","Persons.js","App.js","index.js"],"names":["baseURL","Add","setMessage","persons","setPersons","useState","newName","setNewName","newPhone","setNewPhone","onSubmit","e","preventDefault","id","obj","available","find","p","name","newObj","number","axios","put","then","data","restAll","filter","setTimeout","post","addContact","required","value","onChange","target","type","Filter","setSearch","Notification","message","className","Person","person","deleteP","onClick","Persons","search","deletePerson","window","confirm","delete","deleteContact","newArray","catch","toLowerCase","startsWith","map","i","App","useEffect","get","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f072a40a.chunk.js","sourcesContent":["import axios from \"axios\";\nconst baseURL = \"https://phonebook-fso-2021.herokuapp.com/api/persons\";\n\nconst getContacts = () => axios.get(baseURL);\n\nconst addContact = (obj) => axios.post(baseURL, obj);\n\nconst deleteContact = (id) => axios.delete(`${baseURL}/${id}`);\n\nconst updateContact = (id, obj) => axios.put(`${baseURL}/${id}`, obj);\n\nexport { getContacts, addContact, deleteContact, updateContact };\n","import { useState } from \"react\";\nimport { addContact, updateContact } from \"./services/persons\";\n\nconst Add = ({ setMessage, persons, setPersons }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [newPhone, setNewPhone] = useState(\"\");\n\n  const addPerson = (e) => {\n    e.preventDefault();\n    const available = persons.find((p) => p.name === newName);\n\n    if (available) {\n      const newObj = { ...available, number: newPhone };\n      updateContact(available.id, newObj).then((data) => {\n        const restAll = persons.filter((p) => p.id !== data.data.id);\n        setPersons([...restAll, data.data]);\n\n        setMessage(`${data.data.name} was updated`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n        setNewName(\"\");\n        setNewPhone(\"\");\n      });\n    } else {\n      const newObj = { name: newName, number: newPhone };\n      addContact(newObj).then((data) => {\n        setPersons([...persons, data.data]);\n        setMessage(`Added ${data.data.name}`);\n        setTimeout(() => {\n          setMessage(null);\n        }, 3000);\n        setNewName(\"\");\n        setNewPhone(\"\");\n      });\n    }\n  };\n\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name:{\" \"}\n        <input\n          required\n          value={newName}\n          onChange={(e) => setNewName(e.target.value)}\n        />\n      </div>\n      number:{\" \"}\n      <input\n        required\n        value={newPhone}\n        onChange={(e) => setNewPhone(e.target.value)}\n      />\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default Add;\n","const Filter = ({ persons, setSearch }) => {\n  return (\n    <>\n      filter shown with: <input onChange={(e) => setSearch(e.target.value)} />\n    </>\n  );\n};\n\nexport default Filter;\n","const Notification = ({ message }) => {\n  if (message === null) {\n    return null;\n  }\n\n  return <div className=\"error\">{message}</div>;\n};\n\nexport default Notification;\n","const Person = ({ person, deleteP }) => {\n  return (\n    <div>\n      <span>\n        {person.name} {person.number}\n      </span>\n      <button onClick={() => deleteP(person.id, person.name)}>delete</button>\n    </div>\n  );\n};\n\nexport default Person;\n","import Person from \"./Person\";\nimport { deleteContact } from \"./services/persons\";\n\nconst Persons = ({ persons, search, setPersons, setMessage }) => {\n  const deletePerson = (id, name) => {\n    const conf = window.confirm(`Delete ${name}?`);\n\n    if (conf) {\n      deleteContact(id)\n        .then(() => {\n          const newArray = persons.filter((p) => p.id !== id);\n          setPersons(newArray);\n          setMessage(`Deleted ${name}`);\n          setTimeout(() => {\n            setMessage(null);\n          }, 3000);\n        })\n        .catch(() => {\n          setMessage(\n            `Information of ${name} has already been deleted from server`\n          );\n          setTimeout(() => {\n            setMessage(null);\n          }, 3000);\n        });\n    }\n  };\n\n  return persons\n    .filter((p) => p.name.toLowerCase().startsWith(search.toLowerCase()))\n    .map((p, i) => <Person person={p} key={i} deleteP={deletePerson} />);\n};\n\nexport default Persons;\n","import React, { useEffect, useState } from \"react\";\nimport Add from \"./Add\";\nimport Filter from \"./Filter\";\nimport Notification from \"./Notification\";\nimport Persons from \"./Persons\";\nimport { getContacts } from \"./services/persons\";\n\nconst App = () => {\n  const [search, setSearch] = useState(\"\");\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(\"\");\n\n  useEffect(() => {\n    getContacts().then((data) => setPersons(data.data));\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter persons={persons} setSearch={setSearch} />\n\n      {message && <Notification message={message} />}\n\n      <h2>add a new</h2>\n      <Add setMessage={setMessage} persons={persons} setPersons={setPersons} />\n\n      <h2>Numbers</h2>\n      <Persons\n        setMessage={setMessage}\n        persons={persons}\n        search={search}\n        setPersons={setPersons}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}